[{"path":"index.html","id":"about-me","chapter":"About me","heading":"About me","text":"diligent proactive newly-graduate\nstudent majoring Applied\nMathematics strives pose \nanswer questions quantitative-driven insights. 1+ years \nexperience data analytics \nfinancial analysis. Familiar \ncollecting, analyzing interpreting\ndifferent types data using Power\nPivot, SQL, R Python. Possess\ngreat analytical skills, strong attention\ndetail significant ability \nwork team. Commit bring \nhighest work effectiveness \ndynamic fast-paced company.","code":""},{"path":"skills.html","id":"skills","chapter":"Skills","heading":"Skills","text":"","code":""},{"path":"skills.html","id":"languages","chapter":"Skills","heading":"Languages","text":"\nPython\n\nSQL\n\nR\n\nGit\n","code":""},{"path":"skills.html","id":"platforms-and-libraries","chapter":"Skills","heading":"Platforms and Libraries","text":"\nR - Tidyverse, GGplot2, Dplyr, Tidymodels\n\nPython - Pandas, Numpy, Skicit Learn, Scipy, Plotly, Matplotlib, Seaborn\n\nSQL - Google Big Query, MySQL, PostgreSQL, SQLite\n\nMS Office - Excel, Powerpoint, Project, Word\n","code":""},{"path":"skills.html","id":"analytical-skills","chapter":"Skills","heading":"Analytical Skills","text":"\nData Quantitative Analysis\n\nPredictive Modeling\n\nData Mining Visualization\n\nBusiness Intelligence (BI)\n\nResearch, Reports, Forecasts\n\nCommunication Relationships building\n\nProblem Solving Storyteller\n\nDecision Making\n\nStatistical Data Analysis\n\nData Wrangling\n\nHypothesis Testing\n\nWeb Scraping\n","code":""},{"path":"education.html","id":"education","chapter":"Education","heading":"Education","text":"","code":""},{"path":"education.html","id":"international-universtiy---vnu","chapter":"Education","heading":"International Universtiy - VNU","text":"Bachelor Applied Mathematics | 2017 - 2022Graduation Thesis: Use Machine Learning Algorithms Predict Number Products Sold Shopee","code":""},{"path":"education.html","id":"datacamp-certificates","chapter":"Education","heading":"DataCamp Certificates","text":"\nAnalyzing Social Media Data R\n\nARIMA Models R\n\nBond Valuation Analysis R\n\nBuilding Web Applications Shiny R\n\nCase Study Exploratory Data Analysis R\n\nCategorical Data Tidyverse\n\nCorrelation Regression R\n\nData Manipulation datatable R\n\nData Manipulation dplyr\n\nData Manipulation pandas\n\nExploratory Data Analysis R\n\nFoundations Functional Programming purrr\n\nFoundations Probability R\n\nGARCH Models R\n\nIntermediate Functional Programming purrr\n\nIntermediate Python\n\nIntermediate R Finance\n\nIntermediate R\n\nIntermediate SQL\n\nIntroduction Data R\n\nIntroduction Data Visualization ggplot2\n\nIntroduction Portfolio Analysis R\n\nIntroduction Python\n\nIntroduction R Finance\n\nIntroduction R\n\nIntroduction Shell\n\nIntroduction SQL\n\nIntroduction Statistics R\n\nIntroduction Text Analysis R\n\nIntroduction Tidyverse\n\nJoining Data datatable R\n\nJoining Data dplyr\n\nLife Insurance Products Valuation R\n\nLinear Algebra Data Science R\n\nMachine Learning Tidyverse\n\nMachine Learning scikit-learn\n\nMachine Learning Tree-Based Models Python\n\nMachine Learning Tree-Based Models R\n\nManipulating Time Series Data xts zoo R\n\nMarket Basket Analysis R\n\nModeling Data Tidyverse\n\nModeling tidymodels R\n\nProbability Puzzles R\n\nPython Data Science Toolbox (Part 1)\n\nPython Data Science Toolbox (Part 2)\n\nQuantitative Risk Management R\n\nReporting R Markdown\n\nReshaping Data tidyr\n\nSentiment Analysis R\n\nSoware Engineering Data Scientists Python\n\nString Manipulation stringr R\n\nSupervised Learning R Classication\n\nSupervised Learning R Regression\n\nSupport Vector Machines R\n\nText Mining Bag--Words R\n\nTime Series Analysis R\n\nWeb Scraping R\n\nWorking Data Tidyverse\n\nWorking Web Data R\n","code":""},{"path":"wage-determinants.html","id":"wage-determinants","chapter":"1 Wage Determinants","heading":"1 Wage Determinants","text":"","code":""},{"path":"wage-determinants.html","id":"introduction","chapter":"1 Wage Determinants","heading":"1.1 Introduction","text":"Salary one important motivators labor force, existence wage disparity \ninevitable. According economic theory, possible divide causes disparity wages two\ngroups. first group can include elements caused changes labor market, difference \nchange working environment workplace, due different differ nature work due\ndifferences characteristics workers . second group includes causes social\nstigma either caused discrimination society people employment employees. group \ncauses leads inequality society. Therefore, order (1) determine level wage disparity \nVietnam, (2) identify factors actually affect wages (3) decompose wage gap clarify \ndifference.accomplish purposes, writing aims complete following goals:\n* Introduction theoretical basis applicability regression method percentile wage\ndifferential decomposition method based percentile regression.\n* Regression percentile function real wages Vietnam means percentile regression \nbias correction sample selection endogenous remediation.\n* Determine wage gap minimum years experience data collected online\nrecruitment platform.selected research objectives research methods, paper topic scientific powerful\nmeanings:\n* topic applies percentile regression method, regression technique introduced \nKoenker & Bassett (1978) used extensively widespread world yet\npopular Vietnam. Research project Vietnam applying percentile regression\ntechnique, especially applied study wage function decomposition wage difference.\n* financial research project presents concise, complete systematic way theory \npercentile regression.\n* wage function labor groups estimated using Percentile regression method adjustment\nselection bias sample handle endogenous phenomena model, giving estimate solid\nreliable quality.","code":""},{"path":"wage-determinants.html","id":"literature-review","chapter":"1 Wage Determinants","heading":"1.2 Literature Review","text":"nineteen seventy four, Mincer introduced wage equation showing relationship logarithm\nincome factors years schooling, work experience, square experience\nvariable based argument amount wages paid person now depends \nprevious investment human capital. However, equation quite tough estimate since involves \nlogarithm lot variables contribute complicated model.Mincer earnings function:\\[\\ln(\\omega)=\\ln(\\omega_0)+\\rho s+ \\beta_1x+\\beta_2x^2\\]\n* \\(\\omega\\): earnings\n* \\(\\omega_0\\): earnings someone education experience\n* \\(s\\): years education\n* \\(x\\): years experience\n* \\(\\rho,\\beta_1,\\beta_2\\): regression coefficientsAfter Card D’s research (1994), many studies extended Mincer’s wage equation using different\nindependent variables open Mincer (1974) wage function.\ntypical studies percentile regression applied:\n* Salary analysis: Starting study Edgewort (1922). Followed studies Becker\n(1957),Dunlop (1957), Slichter (1950), Cullen (1956), Dalton & Ford (1977) Long &\nLink(1983), Dickens & Katz (1987), Krueger & Summers(1988) Groshen (1991), Ferber &\nGreen (1982); Lindley,Fish Jackson (1992), Blackaby, Booth Frank (2005).\n* typical studies wage disparity applied past: reduce percentiles wage function:\nBuchinsky (1994) initiated application percentile regression method estimating function\nsalary variable regression. Followed Fortin studies Lemieux (1998), Ajwad et al.\n(2002), Albrecht et al associates (2003), Machado & Mata (2005), Melly (2006)\nGunawardena(2006) Arulampalam et al (2007), Nestic (2010), Del Río,Gradín&Cantó (2011).studies Vietnam use percentile regression regression wage function wage differential\ndecomposition. Typical can mentioned study Hung et al (2007a) Hung T.P \nassociates (2007b).","code":""},{"path":"wage-determinants.html","id":"data","chapter":"1 Wage Determinants","heading":"1.3 Data","text":"data collected recruitment website “careerbuilder.vn” filtering jobs Ho Chi Minh city finance majoring Banking, Insurance, Real Estate Security.Specifically, specific recruitment, shall corresponding information including salary,\nexperience, education, . Frequently, salary often hidden found ranging format interest paper cares minimum years experience ranging 8 million 50 million.Looking data frame, clear see 3 categorical variables education, areas levels.\nalso obvious age, experience, salary considered continuous variables.turn categorical columns dummy variables numeric variables represents\ncategorical data. practical matter, regression results easiest interpret dummy variables \nlimited two specific values, 0 1. Typically, 1 represents presence qualitative attribute, 0\nrepresents absence.total, 11 binary variables 3 continuous variables since investigate relationship\nminimum values continuous variables including minimum age, minimum experience,\nminimum salary.","code":"\nmydata <- read.csv(\"https://raw.githubusercontent.com/ThanhDatIU/RMF_IU/main/careerbuilder.csv\")"},{"path":"wage-determinants.html","id":"methodology","chapter":"1 Wage Determinants","heading":"1.4 Methodology","text":"","code":""},{"path":"wage-determinants.html","id":"linear-regression","chapter":"1 Wage Determinants","heading":"1.4.1 Linear Regression","text":"Model equation:\n\\[y=\\beta X\\]Mean squared error linear regression\n\\[MSE=\\frac{1}{n} \\sum_{=1}^{n}(y_i-\\beta x_i)^2\\]Minimization problem:\n\\[\\hat\\beta = \\text{argmin}_\\beta \\frac{1}{n} \\sum_{=1}^{n} (y_i-\\beta x_i)^2\\]best linear regression model \\(Y\\) equals beta \\(X\\) estimated establishing mean squared error measuring average squares errors.\ncoefficients OLS found coming beta hat mean squared error minimized.Similarly, quantile regression model estimated establishing mean squared error measuring average absolute deviations central point.\ncoefficients quantile regression found generating betas hat mean absolute deviation minimized.","code":""},{"path":"wage-determinants.html","id":"quantile-regression","chapter":"1 Wage Determinants","heading":"1.4.2 Quantile Regression","text":"percentile regression method introduced Koenker& Bassett first time 1978.Model equation:\n\\[y=\\beta X\\]Mean squared error linear regression\\[MAD= \\sum_{:y_i > \\beta x_i}^{n}\\tau |y_i-\\beta x_i| + \\sum_{:y_i < \\beta x_i}^{n}(1-\\tau) |y_i-\\beta x_i|\\]Minimization problem:\\[\\hat\\beta = \\text{argmin}_\\beta \\frac{1}{n} \\left(\\sum_{:y_i > \\beta x_i}^{n}\\tau |y_i-\\beta x_i| + \\sum_{:y_i < \\beta x_i}^{n}(1-\\tau) |y_i-\\beta x_i| \\right)\\]\n\\(\\tau\\) one half, MAD symmetrical median always number data points .\ninstead absolute residuals weighted differently depending whether positive negative, can calculate quantiles distribution.\nestimate tau quantile, set weight positive observations tau negative observations \\(1 – \\tau\\).\ncan select quantiles interest common choices \\(0.1, 0.5, 0.9\\).","code":""},{"path":"wage-determinants.html","id":"results","chapter":"1 Wage Determinants","heading":"1.5 Results","text":"","code":""},{"path":"wage-determinants.html","id":"visualization","chapter":"1 Wage Determinants","heading":"1.5.1 Visualization","text":"","code":""},{"path":"wage-determinants.html","id":"salary-age","chapter":"1 Wage Determinants","heading":"1.5.1.1 Salary ~ Age","text":"following snippet demonstrates can import optimal tidyverse package include ggplot function examine relationship 2 continuous variables salary age contained x y aesthetic argument.\nextremely powerful ggplot function argument color, shape, facet wrap allowing us explain graph 3 categorical variables areas finance, levels, education.Executing codes, ’s obvious suggest many companies recruit applicant degree studies intermediate school, number jobs requiring university college quite high.\ncloser look university facet suggests correlation coefficients minimum age minimum salary considerably low implying linear regression may working relationship.","code":""},{"path":"wage-determinants.html","id":"salary-exp","chapter":"1 Wage Determinants","heading":"1.5.1.2 Salary ~ Exp","text":"hand, comes minimum years experience x-axis, obvious say strong linear relationship minimum years experience minimum salary.\nHowever, constant variance assumption may violated given fact data points 3 minimum years experience vary much noticeably one year less working experience.","code":""},{"path":"wage-determinants.html","id":"linear-regression-1","chapter":"1 Wage Determinants","heading":"1.5.2 Linear Regression","text":"","code":""},{"path":"wage-determinants.html","id":"multiple-linear-regression-model","chapter":"1 Wage Determinants","heading":"1.5.2.1 Multiple Linear Regression Model","text":"Using linear model function familiar stats library, ’s clear see education variables significant.\nInsurance meaningful implying areas finance maybe explain model.\nmatrix singularity comes variable level may drop one factor later analysis.\nimportant thing take notice linear model two continuous variables age experience. previously acknowledged, age statistically significant, minimum experience variable explains model corresponding two-point six.Education significant.Insurance salary significant*.Levels significant*.Minimum age significant.Minimum experience significant*.","code":"#> \n#> Call:\n#> lm(formula = min_salary ~ university + college + intermediate + \n#>     education_not_required + banking + insurance + security + \n#>     real_estate + employee + observer + manager + min_age + min_exp, \n#>     data = df_nogender_agelimited)\n#> \n#> Residuals:\n#>     Min      1Q  Median      3Q     Max \n#> -9.3386 -3.8286 -0.6764  2.4357 29.9892 \n#> \n#> Coefficients: (2 not defined because of singularities)\n#>                        Estimate Std. Error t value Pr(>|t|)    \n#> (Intercept)             13.1401     8.6069   1.527  0.12947    \n#> university              -0.2435     2.6976  -0.090  0.92823    \n#> college                 -2.1271     2.7371  -0.777  0.43861    \n#> intermediate            -3.3352     2.9914  -1.115  0.26712    \n#> education_not_required       NA         NA      NA       NA    \n#> banking                  3.0140     3.1842   0.947  0.34576    \n#> insurance                5.4813     2.0157   2.719  0.00751 ** \n#> security                 3.1239     2.4575   1.271  0.20613    \n#> real_estate              3.7259     3.4863   1.069  0.28733    \n#> employee                -9.5280     1.7146  -5.557 1.68e-07 ***\n#> observer                -6.4152     2.0629  -3.110  0.00234 ** \n#> manager                      NA         NA      NA       NA    \n#> min_age                  0.1229     0.3052   0.403  0.68780    \n#> min_exp                  2.6574     0.4484   5.927 3.04e-08 ***\n#> ---\n#> Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n#> \n#> Residual standard error: 6.349 on 120 degrees of freedom\n#> Multiple R-squared:  0.5527, Adjusted R-squared:  0.5117 \n#> F-statistic: 13.48 on 11 and 120 DF,  p-value: < 2.2e-16"},{"path":"wage-determinants.html","id":"simple-linear-regression","chapter":"1 Wage Determinants","heading":"1.5.2.2 Simple Linear Regression","text":"","code":""},{"path":"wage-determinants.html","id":"areas","chapter":"1 Wage Determinants","heading":"1.5.2.2.1 Areas","text":"let’s try use linear model areas finance variable.\n’s interesting can generally summarize average salary majors finance insurance standing highest average salary 26 million VND. majors seem consistent range 15 18 million per month.Banking salary 15 million VND average.Insurance salary 26 million VND average.Real estate salary 18 million VND average.Security salary 16 million VND average.","code":"#> \n#> Call:\n#> lm(formula = min_salary ~ areas + 0, data = df_nogender_agelimited)\n#> \n#> Residuals:\n#>     Min      1Q  Median      3Q     Max \n#> -11.750  -5.889  -3.231   2.383  36.769 \n#> \n#> Coefficients:\n#>                  Estimate Std. Error t value Pr(>|t|)    \n#> areasbanking       15.617      1.218  12.826  < 2e-16 ***\n#> areasinsurance     26.750      4.474   5.979 2.09e-08 ***\n#> areasreal_estate   18.231      1.110  16.427  < 2e-16 ***\n#> areassecurity      16.889      2.982   5.663 9.34e-08 ***\n#> ---\n#> Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n#> \n#> Residual standard error: 8.947 on 128 degrees of freedom\n#> Multiple R-squared:  0.7969, Adjusted R-squared:  0.7905 \n#> F-statistic: 125.5 on 4 and 128 DF,  p-value: < 2.2e-16\nggplot(df_nogender_agelimited,aes(x=as.factor(areas),y=min_salary,color=education)) + \n  geom_point() +\n  theme_bw()"},{"path":"wage-determinants.html","id":"levels","chapter":"1 Wage Determinants","heading":"1.5.2.3 Levels","text":"Chances manager earn minimum salary 26 million considerably higher number observers employees 14 18 million respectively.Manager salary 26 million VND average.Observer salary 18 million VND average.Employee salary 14 million VND average.","code":"#> \n#> Call:\n#> lm(formula = min_salary ~ levels + 0, data = df_nogender_agelimited)\n#> \n#> Residuals:\n#>     Min      1Q  Median      3Q     Max \n#> -15.125  -4.473  -2.049   3.375  40.527 \n#> \n#> Coefficients:\n#>                Estimate Std. Error t value Pr(>|t|)    \n#> levelsemployee  14.4730     0.8329   17.38   <2e-16 ***\n#> levelsmanager   26.6250     1.6039   16.60   <2e-16 ***\n#> levelsobserver  18.9579     1.8027   10.52   <2e-16 ***\n#> ---\n#> Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n#> \n#> Residual standard error: 7.858 on 129 degrees of freedom\n#> Multiple R-squared:  0.8421, Adjusted R-squared:  0.8385 \n#> F-statistic: 229.4 on 3 and 129 DF,  p-value: < 2.2e-16\nggplot(df_nogender_agelimited,\n       aes(x=factor(levels,levels=c(\"employee\",\"observer\",\"manager\")),\n           y=min_salary,color=education)) + \n  geom_point() +\n  theme_bw()"},{"path":"wage-determinants.html","id":"experience","chapter":"1 Wage Determinants","heading":"1.5.2.4 Experience","text":"Experience significant, 1 year experience average salary increase 3 million VND.lastly, continuous variable experience despite highly significant estimate, model working well multiple R squared 30 percent. ’s need Quantile Regression.","code":"#> \n#> Call:\n#> lm(formula = min_salary ~ min_exp, data = df_nogender_agelimited)\n#> \n#> Residuals:\n#>     Min      1Q  Median      3Q     Max \n#> -10.520  -5.010  -1.937   2.772  37.772 \n#> \n#> Coefficients:\n#>             Estimate Std. Error t value Pr(>|t|)    \n#> (Intercept)  10.6453     1.0983   9.693  < 2e-16 ***\n#> min_exp       3.2915     0.4323   7.614 4.81e-12 ***\n#> ---\n#> Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n#> \n#> Residual standard error: 7.585 on 130 degrees of freedom\n#> Multiple R-squared:  0.3084, Adjusted R-squared:  0.3031 \n#> F-statistic: 57.97 on 1 and 130 DF,  p-value: 4.812e-12\nggplot(df_nogender_agelimited,\n       aes(x=as.numeric(min_exp),\n           y=min_salary,\n           color=education)) + \n  geom_point()"},{"path":"wage-determinants.html","id":"quantile-regression-1","chapter":"1 Wage Determinants","heading":"1.5.3 Quantile Regression","text":"","code":""},{"path":"wage-determinants.html","id":"table","chapter":"1 Wage Determinants","heading":"1.5.3.1 Table","text":"Drop observer avoiding matrix singularity.Insurance predicted using OLS.Employee predicted using OLS.Manager predicted using OLS.Observer predicted using OLS.Minimum experience predicted using OLS salary less 55% greaterr 80% less 31$ million VND greater 41.5$ million VND*.Regressing Salary Minimum Years Experience variable, distinct disparity across ranges seems observable. next step employing visualizing tools illustrate coefficients vary across percentiles.","code":""},{"path":"wage-determinants.html","id":"graph","chapter":"1 Wage Determinants","heading":"1.5.3.2 Graph","text":"","code":""},{"path":"wage-determinants.html","id":"salary-min_age","chapter":"1 Wage Determinants","heading":"1.5.3.2.1 Salary ~ min_age","text":"terms min_age, coefficients significant lower 45 percentile, coefficients significantly different confidence internals OLS minimum reaching 1 5 percent lower tail. opposite true upper 80 percentile maximum coefficient stood exactly 5 considering 5 percent upper tail.","code":""},{"path":"wage-determinants.html","id":"salary-min_exp","chapter":"1 Wage Determinants","heading":"1.5.3.2.2 Salary ~ min_exp","text":"scatter plot compares performance Linear Model Quantile Model. obvious suggest Quantile represents natural flexible way capture complexities inherent relationship estimating models conditional quantile functions.","code":""},{"path":"wage-determinants.html","id":"conclusions","chapter":"1 Wage Determinants","heading":"1.6 Conclusions","text":"percentile regression approach, first developed Koenker Bassett (1978) widely used throughout world yet popular Vietnam, employed project. research projects Vietnam use percentile regression approach, particularly useful studying pay functions decomposing wage differences. financial report explains percentile regression theory clear, comprehensive, systematic manner. pay function labor groups estimated using percentile regression approach selection bias sample correction endogenous phenomena handled model, yielding solid trustworthy estimate.experience gap across pay distribution examined depth previous sections using data Careerbuilder.vn quantile impact salaries less 27 million 40 million, according aggregate results entire sample. reason might finance major may need two years work experience order employee earn reasonable wage.accomplishments, code snippet acknowledged Appendix considered typical source learning Regression model RStudio.","code":""},{"path":"wage-determinants.html","id":"references","chapter":"1 Wage Determinants","heading":"1.7 References","text":"Koenker, R. Bassette, G., 1978. Regression quantiles. [online] Available : https://www.jstor.org/stable/1913643\nTran, T. . T. (2018, February). Investigating gender wage gap Vietnam quantile regression: Sticky floor glass ceiling. [online] Available : https://www.researchgate.net/publication/323870909_Investigating_the_gender_wage_gap_in_Vietnam_by_ quantile_regression_Sticky_floor_or_glass_ceiling\nTran, T. . T. (2014, June). Ước lượng hàm hồi quy tiền lương ở Việt Nam giai đoạn 2002 - 2010 bằng thủ tục Heckman hai bước. [online] Available : http://jabes.ueh.edu.vn/Home/SearchArticle?article_Id=2e855945-ac00-487d-a4f7-8bcec142927f","code":""},{"path":"life-expenctancy.html","id":"life-expenctancy","chapter":"2 Life Expenctancy","heading":"2 Life Expenctancy","text":"","code":""},{"path":"life-expenctancy.html","id":"mortality-rates","chapter":"2 Life Expenctancy","heading":"2.1 Mortality rates","text":"following codes compare mortality rates across ages ranging zero one hundred ten.rate infants locally high newborns, decreases.shows upward hiccup around age eighteen. called accident hump. accident hump often caused increased fatalities car accidents (usually pronounced) males compared females.straightens back , reflecting human aging process.","code":"\nfull_df = read.csv(\"/cloud/project/csvfiles/full_df.csv\") %>% mutate(qx = as.numeric(qx),\n              lx = as.numeric(lx),\n              dx = as.numeric(dx),\n              year= as.numeric(year),\n              Age = age)\n\n# Filter USA, 2019. line: qx~Age by gender\nggplot(full_df %>% \n         filter(country==\"USA\",\n                year==2019), \n       aes(x=Age, y=qx,group=1)) +\ngeom_line(col=\"blue\") +\nlabs(x=\"Age x\", \n     y= expression(paste(\"Mortality rate \", \n                         q[x])),\n     title=\"Mortality rates (U.S.A., 2019)\") +\nfacet_wrap(~gender)\n# Filter USA, 2019. line: log(qx)~Age by gender\nggplot(full_df %>% \n         filter(country==\"USA\",\n                year==2019), \n       aes(x=Age, y=log(qx),group=1)) +\ngeom_line(col=\"blue\") +\nlabs(x=\"Age x\", \n     y= expression(paste(\"Log Mortality rate \", \n                         q[x])),\n     title=\"Log Mortality rates (U.S.A., 2019)\") +\nfacet_wrap(~gender)"},{"path":"life-expenctancy.html","id":"survival-probablity","chapter":"2 Life Expenctancy","heading":"2.2 Survival probablity","text":"convenient illustrate section using examples. calculate 5-year survival probability 18-year-old. First extract px 1 minus qx stored life table. need survival probability 18-year old 22-year-old. multiply one-year survival probabilities get 5-year survival probability. Using prod() function vector relevant one-year survival probabilities gives result.\n\\[{}_{k}p_{x}=p_x.p_{x+1}...p_{x+k-1}\\]\nAlternatively, evaluate probability division number alive people \\(l_x\\) different ages. rounding errors, calculations lead result!\n\\[{}_{k}p_{x}=\\frac{l_{x+k}}{l_{x}}\\]","code":"\n# Filter USA,2019, Age>=18\n# Add column survival\n# line: survival~1:92 (18-110) by gender\nggplot(full_df %>% \n         filter(country==\"USA\",\n                year==2019,\n                Age>=18) %>% \n         group_by(gender) %>% \n         mutate(survival=cumprod(1-qx),\n                k=0:(n()-1)) %>% \n         ungroup(),\n       aes(x=k,y=survival)) +\ngeom_line(col=\"blue\") +\nlabs(x=\"k\", \n     y=expression(paste(\"\"[k], \"p\"[18])),\n     title=\"Survival probabilities for people \n            in age 18, 2019, U.S.A.\") +\nfacet_wrap(~gender)"},{"path":"life-expenctancy.html","id":"life-expectancy","chapter":"2 Life Expenctancy","heading":"2.3 Life expectancy","text":"Let’s start future lifetime, \\(K_x\\), number whole years lived (x). probability Kx takes value k probability x-year-old survives k years dies within next year, age x+k. manipulation shows probability difference k (k+1)-year survival probability x-year-old.\n\\[P(K_x=k)={}_{k}p_{x}.q_{x+k}={}_{k}p_{x}-{}_{k+1}p_{x}\\]\ncan verify equivalence empirically example 18-year-old. 5-year deferred mortality probability? first expression apply reasoning 5-year survival probability mortality rate age 23, second expression takes difference 5- 6-year survival probability. expressions lead result!\\[{}_{k}p_{x}.q_{x+k}\\]\\[{}_{k}p_{x}-{}_{k+1}p_{x}\\]Using probability function \\(K_x\\), now straightforward calculate expected value random variable. life expectancy x-year-old, expressed whole years. possible outcome k, multiply k probability \\(K_x\\) realizes outcome. Taking sum results life expectancy. simplification leads simple expression: sum k-year survival probabilities k runs 1 maximum possible value.\\[E[K_x]= \\sum_{k=0}^{\\infty} k \\times P(K_x=k) = \\sum_{k=0}^{\\infty} k \\times ({}_{k}p_{x}-{}_{k+1}p_{x}) =  \\sum_{k=1}^{\\infty}{}_{k}p_{x}\\]","code":"\n# Function to compute the curtate expected future lifetime for a given age and life table\ncurtate_future_lifetime <- function(age, life_table) {\n  px <- 1-life_table$qx\n  kpx <- cumprod(px[(age+1):length(px)])\n  sum(kpx)\n}\n\n# Vector of ages\nages <- (full_df %>% \n           filter(country==\"USA\",\n                  year==2019,\n                  gender==\"F\") %>% \n           mutate(Age=replace_na(Age,110)))$Age\n\n# Curtate future lifetimes for all ages\nfuture_lifetimes <- sapply(ages, \n                           curtate_future_lifetime, \n                           full_df %>% \n                             filter(country==\"USA\",\n                                    year==2019,\n                                    gender==\"F\") %>% mutate(Age=replace_na(Age,110)))\n\n\n\n# Future lifetime by age\nplot(ages, \n     future_lifetimes,\n     type = 'l', \n     lwd = 2, \n     col = \"green\", \n     xlab = \"Age x\", \n     ylab = \"Future lifetime\", \n     main = \"Future lifetime by age, females, 2019, U.S.A.\")\n# Filter USA. line qx~Age by gender, color by year\nggplot(full_df %>% \n         filter(country == \"USA\"), \n       aes(x=Age, y=qx, color = year)) +\ngeom_line(aes(group = year)) + \nfacet_wrap(~gender) +\nlabs(x=\"Age x\", \n     y= expression(paste(\"Mortality rate \", q[x])),\n     title=\"Mortality rates (USA, 1933-2019)\")\n# Filter USA. \n# Add column life_expectancy\n# line: life_expectancy~year, color by gender\nggplot(full_df %>% \n         filter(country == \"USA\") %>% \n         group_by(gender,year) %>% \n         mutate(kpx=cumprod(1-qx),\n                life_expectancy=sum(kpx)) %>% \n         filter(Age==0) , \n       aes(x=year, y = life_expectancy, color = gender)) +\ngeom_line() + \nlabs(x=\"Year\", \n     y= \"Life Expectancy\",\n     title=\"Life Expectancy, U.S.A.\")"},{"path":"life-expenctancy.html","id":"countries-data","chapter":"2 Life Expenctancy","heading":"2.4 40 Countries Data","text":"colorful scatter plot summarizes data 800.000 entries behave comes life duration among top-ranking countries across years. may overwhelming gives strongest evidence developing lifetime years going . ’s , maximum (point ) males just higher eighty, females converges age ninety just next years.","code":"\n# Add column life_expectancy. \n# Filter Age=0, interesting countries\n# scatter:life_expectancy~year color by country by gender\nggplot(full_df %>%\n         group_by(year,country,gender) %>% \n         mutate(Age=replace_na(Age,110),\n                kpx=cumprod(1-qx),\n                life_expectancy=sum(kpx)) %>% \n                filter(Age==0) %>% \n                ungroup(),\n       aes(x=year,y=life_expectancy,color=country)) + \ngeom_point() +\nfacet_wrap(~gender) +\nggtitle(\"Lifetime through years in 40 countries between men and women\") +\n  xlab(\"Year\") + ylab(\"Life Expectancy\")"},{"path":"housing-prices-prediction.html","id":"housing-prices-prediction","chapter":"3 Housing Prices Prediction","heading":"3 Housing Prices Prediction","text":"","code":""},{"path":"customer-churn-prediction.html","id":"customer-churn-prediction","chapter":"4 Customer Churn Prediction","heading":"4 Customer Churn Prediction","text":"","code":""},{"path":"weather-visualization.html","id":"weather-visualization","chapter":"5 Weather Visualization","heading":"5 Weather Visualization","text":"","code":""}]
